<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="My Midjourney AI Art">
  <title>My Midjourney AI Art</title>
  <meta property="og:image" content="https://mj-gallery.com/f4b46a8a-3386-4791-b8df-c320d2aaf4b8/grid_0_384_N.webp"/>
  <meta property="og:description" content="Gallery of art generated through Midjourney AI" />
  <style>
    html {
      /* inline background noise. No network request & failure & white flash at page load */
      background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==);
      background-color: rgb(1 5 19);
    }
    body {
      overflow-x: hidden; /* 1D mode places images horizontally and exceeds viewport width */
      margin: 0;
    }
    .box {
      position: absolute;
      overflow: hidden;
      background-color: rgb(34, 36, 53);
      border-radius: 16px;
      box-shadow:
        0 0px 2px 0 rgba(255, 255, 255, 0.2), /* shadow acting as border. Won't affect layout inside or outside */
        0 4px 28px 0 rgba(0, 0, 0, 0.4); /* actual shadow */
      background-size: 100%; /* low-res image added as background-image in JS later. Saves 1 DOM node */
      background-repeat: no-repeat; /* just in case of floating point whatever */
    }
    .box img {
      display: block; /* prevent inline-block from adding whitespaces... */
      width: 100%;
    }
    .prompt {
      position: absolute; /* rest near bottom even when image isn't loaded yet */
      width: 100%;
      box-sizing: border-box;
      padding: 8px 12px 0px 12px;
      font-family: "DM Sans", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; /* same as midjourney's */
      color: rgb(192, 198, 205);
      font-size: 16px;
      cursor: text; /* overrides document's cursor when needed (see JS code below) */
      /* for programmatic multiline clamping */
      display: -webkit-box;
      -webkit-box-orient: vertical;
    }
    .prompt:before {
      content: '‚ùù';
      color: rgb(122, 126, 130);
      padding-right: 2px;
    }
  </style>
</head>

<body>
<script>
'use strict'

// === generic scheduler & its debugger
const debug = false // toggle this for manually stepping through animation frames (press key A)
let debugTimestamp = 0
let scheduledRender = false
function scheduleRender(debugForceRender) {
  if (debug && !debugForceRender) return
  if (scheduledRender) return;
  scheduledRender = true

  requestAnimationFrame(function renderAndMaybeScheduleAnotherRender(now) { // eye-grabbing name. No "(anonymous)" function in the debugger & profiler
    scheduledRender = false
    debugTimestamp += 1000 / 60
    if (render(debug ? debugTimestamp : now)) scheduleRender()
  })
}

// === generic spring physics
// 4ms/step for the spring animation's step. Typically 4 steps for 60fps (16.6ms/frame) and 2 for 120fps (8.3ms/frame). Frame time delta varies, so not always true
// could use 8ms instead, but 120fps' 8.3ms/frame means the computation might not fit in the remaining 0.3ms, which means sometime the simulation step wouldn't even run once, giving the illusion of jank
const msPerAnimationStep = 4
function spring(pos, v = 0, k = 290, b = 30) {
  return {pos, dest: pos, v, k, b} // k = stiffness, b = damping. Try https://chenglou.me/react-motion/demos/demo5-spring-parameters-chooser/
}
function springStep(config) {
  // https://blog.maximeheckel.com/posts/the-physics-behind-spring-animations/
  // this seems inspired by https://github.com/chenglou/react-motion/blob/9e3ce95bacaa9a1b259f969870a21c727232cc68/src/stepper.js
  const t = msPerAnimationStep / 1000 // convert to seconds for the physics equation
  const {pos, dest, v, k, b} = config
  // for animations, dest is actually spring at rest. Current position is the spring's stretched/compressed state
  const Fspring = -k * (pos - dest) // Spring stiffness, in kg / s^2
  const Fdamper = -b * v // Damping, in kg / s
  const a = Fspring + Fdamper // a needs to be divided by mass, but we'll assume mass of 1. Adjust k and b to change spring curve instead
  const newV = v + a * t
  const newPos = pos + newV * t

  config.pos = newPos; config.v = newV
}
function springGoToEnd(config) {
  config.pos = config.dest
  config.v = 0
}

// === generic helpers
function clamp(min, v, max) {
  return v > max ? max : v < min ? min : v
}

// === constant layout metrics. The rest is dynamic
const promptPaddingBottom = 8
const promptSizeY = 47 + promptPaddingBottom // 47 is a magic number. Doesn't show the 3rd line nor cuts the 2nd line on safari, mobile safari and chrome
const prompt1DSizeY = 64 + promptPaddingBottom // size in 1d mode
const boxesGapX = 24, boxesGapY = 24
const boxes1DGapX = 52, boxes1DGapY = 28
const windowPaddingTop = 40
const gapTopPeek = 40 // used when programmatically scrolling and wanting to show some gap at the top of a row
const hitArea1DSizeX = 100 // left and right click region in 1D mode

function colsBoxMaxSizeXF(containerSizeX) {
  const boxMinSizeX = 220 // Make sure that on mobile, this min width is big enough not to show 2 images per row. Also, this won't be respected if view's tiny
  const cols = clamp(1, Math.floor((containerSizeX - boxesGapX) / (boxMinSizeX + boxesGapX)), 7) // half of boxesGapX for container's left and right gap
  const boxMaxSizeX = (containerSizeX - boxesGapX - cols * boxesGapX) / cols
  return {cols, boxMaxSizeX}
}

// === state. Plus one in the URL's hash
let animatedUntilTime = null
let reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)')
let anchor = 0 // keep a box stable during resize layout shifts
let windowSizeX = document.documentElement.clientWidth
let scrollTop = window.scrollY
let inputs = {
  pointer: {x: -Infinity, y: -Infinity}, // btw, on page load, there's no way to render a first cursor state =(
  key: null,
  clickedTarget: null,
}
let data; {
  const windowSizeY = document.documentElement.clientHeight
  const {cols, boxMaxSizeX} = colsBoxMaxSizeXF(windowSizeX)
  const imgMaxSizeY = boxMaxSizeX + 100 // TODO: adjust this better
  data = [
    // {{UNSHIFT_PROMPTS_HERE}}
    { id: "9ff0fd49-295d-4f9b-a33f-7b4575bfed89", w: 1408, h: 1024, prompt: "laughing cyberpunk dandy vampire wearing an ornamental cuirass in the gothic throne room. Full body fashion photo by Philip Treacy, Ryan McGinley, Jean-Paul Goude, David Lachapelle, Rei Kawakubo, Junya Watanabe, Iris van Herpen, Takashi Murakami::1.25 joyful startled Desiccated mummified autumnal thorny vine dryad marquis de crimson sunsets, eerie and beautiful, squatting near a moss and exotic fern covered creek bed, looking up at the natural dappled sunlight and low dense fog, by Ivan albright and Nicola Samori and Erwin Olaf::1 Black and white drawing of a beautiful delicate fairy woman with beautiful skin beautiful hair very soft and tidy, white background, adult coloring, gothic art, high resolution, high detail, grayscale color, outline art illustration::0.4 --c 30 --ar 7:5 --q 2" },
    { id: "9963900e-03f8-4740-886f-8a65af1ac162", w: 1408, h: 1024, prompt: "laughing cyberpunk dandy vampire wearing an ornamental cuirass in the gothic throne room. Full body fashion photo by Philip Treacy, Ryan McGinley, Jean-Paul Goude, David Lachapelle, Rei Kawakubo, Junya Watanabe, Iris van Herpen, Takashi Murakami::1.25 joyful startled Desiccated mummified autumnal thorny vine dryad marquis de crimson sunsets, eerie and beautiful, squatting near a moss and exotic fern covered creek bed, looking up at the natural dappled sunlight and low dense fog, by Ivan albright and Nicola Samori and Erwin Olaf::1 Black and white drawing of a beautiful delicate fairy woman with beautiful skin beautiful hair very soft and tidy, white background, adult coloring, gothic art, high resolution, high detail, grayscale color, outline art illustration::0.4 --c 30 --ar 7:5 --q 2" },
    { id: "da3c050c-7c50-404a-a53a-47b427b40e3e", w: 1408, h: 1024, prompt: "laughing cyberpunk dandy vampire wearing an ornamental cuirass in the gothic throne room. Full body fashion photo by Philip Treacy, Ryan McGinley, Jean-Paul Goude, David Lachapelle, Rei Kawakubo, Junya Watanabe, Iris van Herpen, Takashi Murakami::1.25 joyful startled Desiccated mummified autumnal thorny vine dryad marquis de crimson sunsets, eerie and beautiful, squatting near a moss and exotic fern covered creek bed, looking up at the natural dappled sunlight and low dense fog, by Ivan albright and Nicola Samori and Erwin Olaf::1 Black and white drawing of a beautiful delicate fairy woman with beautiful skin beautiful hair very soft and tidy, white background, adult coloring, gothic art, high resolution, high detail, grayscale color, outline art illustration::0.4 --c 30 --ar 7:5 --q 2" },
    { id: "9875fb46-94e3-4fb1-876e-14ea56273486", w: 1408, h: 1024, prompt: "laughing cyberpunk dandy vampire wearing an ornamental cuirass in the gothic throne room. Full body fashion photo by Philip Treacy, Ryan McGinley, Jean-Paul Goude, David Lachapelle, Rei Kawakubo, Junya Watanabe, Iris van Herpen, Takashi Murakami::1.25 joyful startled Desiccated mummified autumnal thorny vine dryad marquis de crimson sunsets, eerie and beautiful, squatting near a moss and exotic fern covered creek bed, looking up at the natural dappled sunlight and low dense fog, by Ivan albright and Nicola Samori and Erwin Olaf::1 Black and white drawing of a beautiful delicate fairy woman with beautiful skin beautiful hair very soft and tidy, white background, adult coloring, gothic art, high resolution, high detail, grayscale color, outline art illustration::0.4 --c 30 --ar 7:5 --q 2" },
    { id: "ee0e9f67-47c1-47bc-b8f8-59a891f5432b", w: 1408, h: 1024, prompt: "laughing cyberpunk dandy vampire wearing an ornamental cuirass in the gothic throne room. Full body fashion photo by Philip Treacy, Ryan McGinley, Jean-Paul Goude, David Lachapelle, Rei Kawakubo, Junya Watanabe, Iris van Herpen, Takashi Murakami::1.25 joyful startled Desiccated mummified autumnal thorny vine dryad marquis de crimson sunsets, eerie and beautiful, squatting near a moss and exotic fern covered creek bed, looking up at the natural dappled sunlight and low dense fog, by Ivan albright and Nicola Samori and Erwin Olaf::1 Black and white drawing of a beautiful delicate fairy woman with beautiful skin beautiful hair very soft and tidy, white background, adult coloring, gothic art, high resolution, high detail, grayscale color, outline art illustration::0.4 --c 30 --ar 7:5 --q 2" },
    { id: "67c3ea81-ba2d-4174-871f-11d2633ed79c", w: 1024, h: 1024, prompt: "bubblefab cabins with relaxing vibes" },
    { id: "a3c01f61-2eec-4577-a44c-2e8da7d4faf6", w: 1728, h: 864, prompt: "elevated tilted selfie of a big buff blue female demon with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: --ar 2:1 --c 33" },
    { id: "a413979b-ac75-436c-822d-3e9920377234", w: 1728, h: 864, prompt: "Spontaneous elevated view of some big buff blue demons with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: A candid photo of some big buff happy 20 year-old CMYK feminine demons in 2018 dressed up for a night out, enjoying themselves mid-dance at a party bonfire in some apartment in the city, photographed by Nan Goldin, taken with a Fujifilm Instax Mini panorama, flash, candid, natural, spontaneous, youthful, lively, carefree, fashionable --ar 2:1 --c 9" },
    { id: "250e2895-d2d4-4f9e-8589-39cf8c850295", w: 1728, h: 864, prompt: "Spontaneous elevated view of some big buff blue demons with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: A candid photo of some big buff happy 20 year-old CMYK feminine demons in 2018 dressed up for a night out, enjoying themselves mid-dance at a party bonfire in some apartment in the city, photographed by Nan Goldin, taken with a Fujifilm Instax Mini panorama, flash, candid, natural, spontaneous, youthful, lively, carefree, fashionable --ar 2:1 --c 9" },
    { id: "001fa109-0b09-4965-a313-df6a1950181f", w: 1728, h: 864, prompt: "Spontaneous elevated view of a big buff blue demon with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: A candid photo of some big buff happy 20 year-old CMYK feminine demons in 2018 dressed up for a night out, enjoying themselves mid-dance at a party bonfire in some apartment in the city, photographed by Nan Goldin, taken with a Fujifilm Instax Mini panorama, flash, candid, natural, spontaneous, youthful, lively, carefree, --ar 2:1 --c 22" },
    { id: "d4161753-0874-49a3-9def-4492b3185038", w: 1728, h: 864, prompt: "Spontaneous elevated view of a big buff blue demon with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: blue and Yellow demons with big boobys. Humongous boobys. An absolutely fine rack.:: A candid photo of some big buff happy 20 year-old CMYK feminine demons in 2018 dressed up for a night out, enjoying themselves mid-dance at a party bonfire in some apartment in the city, photographed by Nan Goldin, taken with a Fujifilm Instax Mini panorama, flash, candid, natural, spontaneous, youthful, lively, carefree:: --ar 2:1 --c 22" },
    { id: "cc439854-dbfc-47e8-a651-a628925e95f9", w: 1728, h: 864, prompt: "Spontaneous elevated view of a big buff blue demon with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: blue and Yellow demons with big boobys. Humongous boobys. An absolutely fine rack.:: A candid photo of some big buff happy 20 year-old CMYK feminine demons in 2018 dressed up for a night out, enjoying themselves mid-dance at a party bonfire in some apartment in the city, photographed by Nan Goldin, taken with a Fujifilm Instax Mini panorama, flash, candid, natural, spontaneous, youthful, lively, carefree:: --ar 2:1 --c 22" },
    { id: "3abde8fd-57de-440c-bce5-14d38ec2ffde", w: 1728, h: 864, prompt: "Spontaneous elevated view of a big buff blue demon with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: blue and Yellow demons with big boobys. Humongous boobys. An absolutely fine rack.:: A candid photo of some big buff happy 20 year-old CMYK feminine demons in 2018 dressed up for a night out, enjoying themselves mid-dance at a party bonfire in some apartment in the city, photographed by Nan Goldin, taken with a Fujifilm Instax Mini panorama, flash, candid, natural, spontaneous, youthful, lively, carefree:: --ar 2:1 --c 22" },
    { id: "8c563861-7237-473b-8756-6e476e59183e", w: 1728, h: 864, prompt: "Spontaneous elevated view of a big buff blue demon with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: Yellow demon with big boobys. Humongous boobys. An absolutely fine rack.:: A candid photo of some big buff happy 20 year-old CMYK feminine demons in 2018 dressed up for a night out, enjoying themselves mid-dance at a party bonfire in some apartment in the city, photographed by Nan Goldin, taken with a Fujifilm Instax Mini panorama, flash, candid, natural, spontaneous, youthful, lively, carefree:: --ar 2:1 --c 22 --niji" },
    { id: "6c9e69a6-97b6-4297-94d1-779d193033ee", w: 1792, h: 2304, prompt: "<https://i.mj.run/5e41a152-be5c-4fe8-896e-eb9c9020f334/0_0.png> rivendell architecture, elven tower spire, thin sinewy celtic columns, flying buttresses, Award Winning photography of an isolated projecting cliffside villa designed by antonio montini. The villa is a long cantilever over amalfi landscape with dramatic rock faces covered with moss, turquoise sea below with cliff stairs, in the style of Darek Zabrocki, Moebius, Gediminas Pranckevicius, Photography by Andreas Gursky, photo realistic, raking sunlight, cinematic lighting --ar 4:5 --c 35 --test --creative --upbeta" },
    { id: "ee9d9f74-2416-4bee-af93-880f7e7c5b97", w: 1664, h: 2432, prompt: "<https://i.mj.run/4e777a64-9815-43c8-9b16-ac425840663d/0_0.png> funky liquid lsd psychedelic vibrant color graffiti, inricate detailed maximalism, 0.3 nebula solar flare sunflower textures by Agnes Cecile and Karol Bak üíßüåïüéá, colored glass, cerulean, crimson, black, gold, shale patterns, smeared in mercury, encased in amber fluid, repeating grandiose intricate pattern, ‚Äîh 1792 --w 1024 ‚Äîc 17 --test --creative --upbeta --upbeta" },
    { id: "ba0acae4-7acb-4d5a-b1d4-f62971c728fd", w: 2304, h: 1536, prompt: "<https://i.mj.run/f3c5012e-6b83-4617-8cbf-7d3642fb201f/0_0.png> a watercolor textured house designed by mies van der rohe, rust, autumn colors, turqoise lake, landscape photography, Liquid Carving Antique Wooden Sculpture on a black background, wave vortex with helix disturbance, inner illumination, dark-blue light-blue black dark-purple dark-pink gold white, painted liquid mercury, cinematic lighting, photo realistic, liquid texture, abstract, --ar 3:2 --test --creative --upbeta --upbeta --upbeta" },
    { id: "d1a95554-ce8c-4da0-ac92-eed858a9260b", w: 1536, h: 1024, prompt: "panoramic view, the field personification starry intense core lucky infuriated beautiful maiden pretend artwork designed by Louis Sullivan, twilight, photograph, exteriors --ar 3:2 --v 4" },
    { id: "e86ec241-3fea-45ad-b6c7-6e4a28418043", w: 1024, h: 1536, prompt: "a stunning interpretation of a glitch-void Kandisky shalepunk large pervy raunch dressing portly woman wearing a crimson & cerulean gasmask, crimson and golden Kintsugi-punk Glitch-Abyss bodysuit designed by Louis Sullivan, post-apocalyptic, by Craig Mullins, dynamic hero pose highly detailed and intricate, glow, ominous, heavy, cinematic, cgsociety, unreal engine, orange and cerulean color gel lighting, hard cool light, camera angle from waist above:: photo: Grand Opening of The Restaurant at the end of the Universe, interiors by Louis Sullivan and Eddie Mendoza on a street corner in a high density city with shops and street food restaurants, iridescent lattice buildings are designed by iris van herpen, neri oxman, Gaud√≠, crowded street, vegetation, cyberpunk, solarpunk, biopunk, eye level, ground level, bioluminescence, photorealistic, cinematic by Jean-Baptiste Monge and frank frazetta , post processing, painterly, book illustration watercolor granular splatter dripping paper texture, ink outlines, painterly, trending on artstation, trending on pinterest childrens art, hyperreal, photograph - Leica Camera AG M + Leica Summicron-M 35mm f/2 ASPH:: --ar 2:3 --q 2 --v 4" },
    { id: "7799bb90-e8c8-4218-9281-cc0a6f67b34d", w: 1024, h: 1024, prompt: "sophisticated fairy DJ in NYC, 85mm, by peter McKinnon:: nixie tubes, 1960s vintage recording console, knobs, faders, vu meters, wood + cinematic shot + photo taken by ARRI, photo taken by sony, photo taken by canon, photo taken by nikon, photo taken by sony, photo taken by hasselblad + incredibly detailed, sharpen, details + professional lighting, photography lighting + 50mm, 80mm, 100m + lightroom gallery + behance photography + unsplash:: --no defocus --v 4" },
    { id: "10f9e30e-a19a-4c2a-996c-7786963c1727", w: 1536, h: 1024, prompt: "Riding a motorcycle by Dan Mumford, Junji Murakami, Mucha Klimt, Hiroshi Yoshida, and Craig Mullins, depicted by hayao mizazaki cgsociety by james paik and ross tran, IMAX still, 70mm film, color by technicolor, Remastered to Blu-ray --v 4 --ar 3:2" },
    { id: "6e50ab27-d298-4af2-afed-760a95f08163", w: 1024, h: 1024, prompt: "drowning in cheese and marinara, Guinness Book of World Records photo shoot, 1969 --v 4" },
    { id: "073f9834-ab68-452a-98af-2f3013d86a36", w: 1024, h: 1536, prompt: "the screaming mind fracturing into The fibonacci sequence --ar 2:3 --c 5 --v 4" },
    { id: "ed4aafd3-5d79-4b87-ab51-56c98110f01f", w: 1024, h: 1024, prompt: "this year for Christmas my kids are getting a real baby hippopotamus, the worst cat, children disgusted --v 4" },
    { id: "8b6f6bd1-460e-4798-a85a-d5c94008c679", w: 1536, h: 1024, prompt: "architecture students making wood models on their studio desk, bulbous neri oxman, curved rings, dramatic lighting, chiaroscuro, future concept art, beautiful scenery, cinematic, hyperreal, long exposure, 8K, realistic --v 4 --ar 3:2 --q 2 --v 4" },
    { id: "fac7c960-6bee-4178-a7f3-4df11a0a97aa", w: 1024, h: 1024, prompt: "architecture students making wood models on their studio desk, bulbous neri oxman, curved rings, dramatic lighting, chiaroscuro, future concept art, beautiful scenery, cinematic, hyperreal, long exposure, 8K, realistic::110 Pilotis house, Scandinavian style, modern, made of wood and steel, lake side, sunny, autumn, architecture drawing by [tadao ando, sou fujimoto, Peter zumthor]::100 twilight,supermodern office tower designed by Rem koolhaas in a community garden shadow lighting, accent lighting, hillside, cross laminated timber, architectural concrete, floor to ceiling windows- architectural grand opening color aerial photograph by Leica Camera AG M + Leica Summicron-M 35mm f/ 2 ASPH::20 Raving by Yayoi Kusama, Eric Standley, James Tissot, Ralph Mcquarrie, Jean-Paul Gaultier, Rudolf Ernst ::100 Pointillism, William Turner, uniformity, simplicity, flat, monochrome ::-36 sepia ::-8 3D, Darkness ::-6 --q 2 --v 4" },
    { id: "3c729b57-6334-4f67-825d-bcbec266042d", w: 1024, h: 1024, prompt: "yellow Elmo ornament, fuzzy, cute, star bokeh Christmas lights background" },
    { id: "c8bad0cc-dcab-45ff-94e5-8f397fcee6c9", w: 1536, h: 1024, prompt: "Giant Crystal Cave (Cueva de los cristales) strong dawn lighting, landscape photographed by Leica Camera AG M + Leica Summicron-M 35mm f/2 ASPH --ar 3:2" },
    { id: "83389b3a-ceae-4d4f-b59f-ff6c14b74bde", w: 1024, h: 1024, prompt: "<https://s.mj.run/lQBM7oz5kss> high-definition portrait photograph, Zeus as a very handsome middle aged man, fashion-forward man, silver hair and beard, haute couture club clothes, full-body shot, god of storms and the sky, fashion portrait, style of Vogue, ultradetailed, 50mm, 4k, Hasselblad H6D-400C" },
    { id: "968a5bb1-8e31-4811-bce4-020f491e7294", w: 1024, h: 1024, prompt: "<https://s.mj.run/HJr0_roEGZI> <https://s.mj.run/jE8OGM4EQoU>" },
    { id: "278c4bcd-45ed-42e4-a1f9-a7a43b1d2bcf", w: 1024, h: 1024, prompt: "promotional photo: a bustling business district development in Tokyo with 3 mixed use towers connected by a beautifully landscaped public space by Thomas Heatherwick, foggy B+W promo photograph on Leica Camera AG M Monochrom + Leica Summicron-M 35mm f/2 ASPH" },
    { id: "6fcafc5f-de79-4dd0-a551-dcfceddad22c", w: 1536, h: 1024, prompt: "Yellow Elmo museum, Architectural Digest magazine centerfold photo by by Ezra Stoller --ar 3:2" },
    { id: "cc52ea83-e875-4405-864f-be4a2ac316b8", w: 1024, h: 1536, prompt: "noble woman with dirty blond hair, holding umbrella, full body, hyper-detailed, rich colors, beautiful by by Felicia Simion:: consumed by envy, gorgeous stunning vibrant digital art by Yoh Nagao and Ken Price:: --ar 2:3 --c 50 --s 300" },
    { id: "c29e04a8-bc6f-44cb-ab7c-474dce2dc755", w: 1024, h: 1024, prompt: "Snoop Dogg, slow motion photography by Elke Vogelsang --c 4" },
    { id: "57dac06f-dc47-4163-9f21-0acaa556f09f", w: 1024, h: 1024, prompt: "Roseanne Barr at a swanky party, slow motion photography by Elke Vogelsang" },
    { id: "ccf50e51-21fd-438f-955d-ed708203683b", w: 1024, h: 1024, prompt: "Bea Arthur formal portrait shoot, amazing photography by Elke Vogelsang" },
    { id: "5ad11378-ed41-43b1-8fe0-7bd6aa098b3f", w: 1024, h: 1536, prompt: "a lonely cherry blossom tree on a rocky high cliff edge with clouds below and soft colorful haze on the ground:: The Zhangjiajie National Park atmospheric foggy twilight lighting, landscape photographed by Leica Camera AG M + Leica Summicron-M 35mm f/2 ASPH --c 20 --ar 2:3" },
    { id: "5515e6b9-f02f-4b79-93a6-428444535202", w: 1024, h: 1408, prompt: "lion with crimson mane wearing a suit of cerulean hematite armour --ar 5:7" },
    { id: "e9db1ba1-4d1f-48fa-9761-ad62bd081575", w: 1408, h: 1024, prompt: "a watercolor textured house designed by mies van der rohe, rust, autumn colors, turqoise lake, landscape photography --ar 7:5 --c 20" },
    { id: "e1536a54-707f-4b37-8e53-c8a6c344aec9", w: 1024, h: 1536, prompt: "<https://s.mj.run/Za_hUGWkkjs> <https://s.mj.run/Be13A6p7pyQ> <https://s.mj.run/UG6D4PvDmyY> noble woman with dirty blond hair, holding umbrella, full body, hyper-detailed, rich colors, beautiful by by Felicia Simion:: consumed by envy, gorgeous stunning vibrant digital art by Yoh Nagao and Ken Price:: --ar 2:3 --c 50 --s 300" },
    { id: "25772739-048e-45fe-b702-4fd272baaf56", w: 1024, h: 1024, prompt: "<https://s.mj.run/xv9O0X09kDU> <https://s.mj.run/kSydjcMXvT8>" },
    { id: "c0bef51f-d7a7-4829-b3f0-60c26ee8e7e5", w: 768, h: 1024, prompt: "https://s.mj.run/k4e30W up close and personal with the dragon:: repeating fractal scales, wet paint smeared in mercury, iridescent glow eyes, 8k hd detailed macro photography eyes --h 512 --w 384 --no tilt-shift" },
    { id: "63b60132-f3b8-4aeb-9e05-abcec1bbc739", w: 1024, h: 1408, prompt: "<https://s.mj.run/lags72> <https://s.mj.run/z6Jovm87UWU> <https://s.mj.run/IGDJupnpBdM> a fullbody photo of an cyberpunk rei ayanami, posing photo at a busy club with several people, futuristic photography --ar 5:7 --c 45" },
    { id: "ca1ae9b3-1862-41fe-8ceb-2dfd7537b3ad", w: 1024, h: 1408, prompt: "<https://s.mj.run/lags72> <https://s.mj.run/z6Jovm87UWU> <https://s.mj.run/IGDJupnpBdM> frolicking flabbergasted astonished 24 year old Elizabeth Perkins Vegas nightlife magazine photo shoot, full body --ar 5:7 --c 30" },
    { id: "25b476af-af77-4806-a329-d379945cd7a6", w: 1024, h: 1408, prompt: "<https://s.mj.run/GW024ce0as0> <https://s.mj.run/UPg0Qaqtbgs> --ar 5:7 --c 35" },
    { id: "28a261af-f503-4145-999d-b49bd7f78d5a", w: 1024, h: 1408, prompt: "<https://s.mj.run/GfBHx4zT8_M> watercolor detailed intricate wild crimson hair transforming into cerulean fractal snakes by Chiharu Shiota and Peter Mohrbacher::10 --ar 5:7 --c 15" },
    { id: "934c47a1-37f0-48fd-88ce-89dfc7beae90", w: 1568, h: 896, prompt: "Carnage in an expensive Italian suit, deploying the venom symbiotic defenses in a crowded colorful night market, as drawn by Mr Brainwash in the Spiderverse --ar 16:9" },
    { id: "dc9da738-9ac8-4a1f-bd78-795a8096b873", w: 1024, h: 1024, prompt: "a well dressed chimpanzee interviewing for a javascript developer position at google" },
    { id: "bd7d0ea6-bf41-47d7-b5d3-08dbbba4fac7", w: 1408, h: 1024, prompt: "photo of dapper Cthulhu, wearing designer suit, hands in pocket, interviewing for a game developer position at blizzard entertainment, dynamic studio lighting --ar 7:5" },
    { id: "5515e6b9-f02f-4b79-93a6-428444535202", w: 1024, h: 1408, prompt: "lion with crimson mane wearing a suit of cerulean hematite armour --ar 5:7" },
    { id: "f9ef01eb-19e9-442c-a4dc-baa13d37ad56", w: 1024, h: 1408, prompt: "a fullbody photo of an cyberpunk rei ayanami in a tan lycra bodysuit with neon accents, posing photo at a busy club with several people, futuristic photography --ar 5:7 --c 45" },
    { id: "e4bb5fae-e174-4ddc-a036-09aecd33d474", w: 1568, h: 896, prompt: "a cantilever house hidden in the birch forest left, a dark stream right --ar 7:4" },
    { id: "6842dc2a-2033-49a2-99d6-7fe69c21b202", w: 1024, h: 1536, prompt: "a rusted steel row house in washington DC designed by peter zumthor --v 4 --ar 2:3 --v 4" },
    { id: "a62ad0e3-75fd-4009-9356-aa60edeff811", w: 1024, h: 1024, prompt: "haphazard stacked prefab houses created from shipping containers" },
    { id: "6de2d49f-ae14-43aa-93de-663f137f7012", w: 1024, h: 1536, prompt: "<https://s.mj.run/Za_hUGWkkjs> <https://s.mj.run/UG6D4PvDmyY> --ar 2:3 --c 30 --v 4" },
    { id: "a36c6710-f292-4f49-83e1-5d8d1964901f", w: 1024, h: 1536, prompt: "<https://s.mj.run/Be13A6p7pyQ> the screaming mind fracturing into The fibonacci sequence --ar 2:3 --c 5" },
    { id: "4d71373c-58ed-4eb6-a261-3cc6d256f4a9", w: 960, h: 1664, prompt: "<https://s.mj.run/kwC-IvAk84k> elevated view, large cantilever villa with greenroof + landscape design by Louis Benech, dankali depression, alpenglow after the storm, angry clouds, stark landscape photograph with Leica Camera AG M + Leica Summicron-M 35mm f/2 ASPH:: a watercolor textured house designed by frank lloyd wright and mies van der rohe, rusted copper, autumn colors, turqoise lake, landscape photography::0.3 --ar 9:16 --c 35" },
    { id: "fc153b6e-9a13-4cf8-a41e-f9f4c0a5b5c7", w: 960, h: 1664, prompt: "<https://s.mj.run/kwC-IvAk84k> elevated view, large cantilever villa with greenroof + landscape design by Louis Benech, dankali depression, alpenglow after the storm, angry clouds, stark landscape photograph with Leica Camera AG M + Leica Summicron-M 35mm f/2 ASPH:: a watercolor textured house designed by frank lloyd wright and mies van der rohe, rusted copper, autumn colors, turqoise lake, landscape photography::0.3 --ar 9:16 --c 15 --s 1000" },
    { id: "fb35ba42-9b2c-4ec2-b56f-1696d9b7ab86", w: 1024, h: 1024, prompt: "<https://s.mj.run/4yfBGoJJeP4> <https://s.mj.run/cOQ5lhs091Q> --c 20" },
    { id: "32b728bd-ed34-4e0f-b187-01e9048ddb5d", w: 1024, h: 1408, prompt: "Confident glaring, expression of disgust, looking down, wearing constricting leather straps, arms crossed, leaning back, pervy raunchy dressing Martha Higareda as symmetra, mostly silhouette and shadow, posing for the black tape project centerfold photoshoot by Roberto Ferri and Annie Leibovitz, 80mm lens --ar 5:7 --c 20 --no camera" },
    { id: "6bfa51cd-37a8-4907-9d2a-d1d55cdb7fcc", w: 1024, h: 1408, prompt: "wide angle of cute, happy, young Cairn Terrier, soft pastel colors, kawaii illustration, white background, simple lines, gorgeous lighting, ink painting style, childrens character design, happy mood, watercolor, pixar style cartoon, line work, minimalist --ar 5:7" },
    { id: "899487f3-f738-4cf0-a2b6-7def1277ddda", w: 1024, h: 1536, prompt: "Mexico City, Casa estilo Bjarke Ingels, Manta√±as, acuarela, colores apagados --ar 27:40" },
    { id: "b8662ee9-2e06-4a2c-a3ae-e029d7b7dc71", w: 2304, h: 1536, prompt: "Photograph of a formal cocktail party on the terrace. elevated view of a cantilever house with vertical wooden slats, the property is in a landscaped clearing of a moss covered old growth forest, flowing style integrated with the landscape, design by morphosis and NBBJ near a terraced stream, twilight, rugged streambed, small landscaped balcony, mossy rock garden --ar 3:2 --c 15" },
    { id: "7307bbab-14ae-447a-88d4-cff8e9e65907", w: 1536, h: 1024, prompt: "R2D2 and C3PO frolicking in NYC, fashion photo shoot by Miles Aldridge --ar 3:2 --c 4" },
    { id: "aff55451-4bfc-42e2-83f6-42855d29fce6", w: 1536, h: 1024, prompt: "R2D2 and C3PO frolicking in NYC, fashion photo shoot by Miles Aldridge --ar 3:2 --c 4" },
    { id: "09a2eb79-9208-409a-a144-a18e33e9d996", w: 1024, h: 1408, prompt: "mummified dessicated vine dryad hank hill by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "a9069674-c190-4dc1-afab-62fa26292529", w: 1024, h: 1408, prompt: "female demon with red tinted skin, sunglasses and small ivory horns, succubuss attorney at law, prosecutor in an ornate courthouse atrium by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "a5b1cd09-6e6d-4f95-ae82-fc484b579433", w: 1408, h: 1024, prompt: "<https://s.mj.run/NhYKtVjdxa4> <https://s.mj.run/TYAYYCxi1Bw> --ar 7:5" },
    { id: "87e4db8a-fbef-4850-8225-88eddd4b08b9", w: 1728, h: 864, prompt: "Rei Ayanami as T-800 dancing in the crowded club by anish kapoor and zaha hadid, liquid metallic Rei, film still from the movie directed by denis villeneuve with art direction by zdzistaw beksinski --ar 2:1 --v 4" },
    { id: "c7d6ebbb-b87d-427d-8ecb-e64e7a6c0015", w: 1408, h: 1024, prompt: "Mies Van der Rohe Daniel Libeskind designed, half the picture is taken at night and the other half is taken during the day, split down the middle, double exposure , antarctica capsule house , designed for the harsh polar winters this tiny home will keep you warm while having amazing views of the polar wildlife, white and black contrast , photographed during the aurora borealis, long exposure picture, milky way visible --v 4 --q 2 --c 4 --ar 7:5" },
    { id: "a2175971-b31f-40f5-a268-50e65d71ff89", w: 1280, h: 1024, prompt: "small strange translucent pvc inflated organic minimal chair by anish kapoor and zaha hadid, film still from the movie directed by denis villeneuve with art direction by zdzistaw beksinski --ar 5:4 --v 4" },
    { id: "272d88b3-b818-4800-be28-705c6b58e4a9", w: 1408, h: 1024, prompt: "Desiccated mummified autumnal thorny vine dryad marquis de crimson sunsets, eerie and beautiful, squatting near a moss and exotic fern covered creek bed, looking up at the natural dappled sunlight and low dense fog, by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 7:5 --v 4 --c 20 --uplight" },
    { id: "f4b46a8a-3386-4791-b8df-c320d2aaf4b8", w: 1792, h: 1280, prompt: "Dessicated mummified autumnal thorny vine dryad marquis de crimson sunsets, eerie and beautiful, squatting near a moss and exotic fern covered creek bed, looking up at the natural dappled sunlight and low dense fog, by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 7:5 --v 4 --c 20 --upbeta" },
    { id: "84b66784-d862-418d-a1b3-c44dde53bf4e", w: 1408, h: 1024, prompt: "mummified dessicated vine dryad marquis de crimson sunsets, squatting near a moss and exotic fern covered creek bed. natural sunlight and fog, by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 7:5 --v 4 --c 20" },
    { id: "0832d23a-1719-48db-83f2-2c97e2664945", w: 864, h: 1728, prompt: "elevated tilted selfie of a big buff blue female demon with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: --ar 1:2 --c 33" },
    { id: "2a34576f-1d6d-4963-bf45-b4f23f3831b6", w: 864, h: 1728, prompt: "elevated tilted selfie of a big buff blue female demon with small horns and tail, looking to the flames, feeling nostalgic wearing a classic Lanvin suit, standing by the bonfire in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: --ar 1:2 --c 33" },
    { id: "ad7f6360-7119-4154-a7c8-eacbb0f71c0e", w: 1024, h: 1408, prompt: "postcoitus giggling smug blue-furred female demon pregnant with r2d2 with red-tinted-skin small ivory horns, by Ivan albright and Nicola Samori and Erwin Olaf, Alberto Vargas, Gil Elvgren, Jim Lee --ar 5:7 --c 30" },
    { id: "8cab6674-181e-4607-acff-c0a9cab7e454", w: 1024, h: 1408, prompt: "anthropomorphic smug cerulean flower by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "1940f7b5-972a-4b8a-b54e-e6fa66ba06de", w: 1024, h: 1408, prompt: "<https://s.mj.run/p2rYGSRNiI4> <https://s.mj.run/5CAgODaFN5g> big buff female demon with red-skin, mirrored sunglasses, long tusks and small ivory horns, succubuss attorney at law, in a designer suit, prosecutor in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --c 9 --q 2" },
    { id: "ed5d1f4b-531f-471c-92d8-3622402df65b", w: 1024, h: 1408, prompt: "<https://s.mj.run/p2rYGSRNiI4> <https://s.mj.run/5CAgODaFN5g> big buff female demon with red-skin, mirrored sunglasses, long tusks and small ivory horns, succubuss attorney at law, in a designer suit, prosecutor in an ornate courthouse atrium by Miles Aldridge and Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --c 9 --q 2" },
    { id: "7f4f41b8-e587-4a96-8724-111ce8c8d4ee", w: 1024, h: 1408, prompt: "postcoitus giggling smug Big Chungus female demon pregnant with r2d2 with red-tinted-skin small ivory horns, by Ivan albright and Nicola Samori and Erwin Olaf, Alberto Vargas --ar 5:7 --c 30" },
    { id: "3f2ea210-6a5c-4d8f-98d3-30aedc318cfd", w: 1024, h: 1408, prompt: "postcoitus giggling smug blue-furred female demon with red-tinted-skin small ivory horns, by Ivan albright and Nicola Samori and Erwin Olaf --ar 5:7 --c 30" },
    { id: "0aebfd38-43ea-4895-bfc5-cc0b60380851", w: 1024, h: 1408, prompt: "female demon with red tinted skin small ivory horns, succubuss attorney at law, prosecutor in an ornate courthouse atrium, attractive chubby female demon with red tinted skin, by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "e93869b0-57c6-47a7-b1ad-88eb262945ba", w: 1024, h: 1408, prompt: "mummified dessicated vine dryad from lot by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "edbcea91-3845-412e-98ac-8f9897f9b2b2", w: 1024, h: 1408, prompt: "female demon with red tinted skin, sunglasses and small ivory horns, succubuss attorney at law, prosecutor in an ornate courthouse atrium by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "b49890be-1aff-4e59-9315-d5734d0fa672", w: 1024, h: 1408, prompt: "female demon with red tinted skin, sunglasses and small ivory horns, succubuss attorney at law, prosecutor in an ornate courthouse atrium by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "79f89856-c355-4940-afae-4d2b4a5fe10b", w: 1024, h: 1408, prompt: "succubuss with red tinted skin, sunglasses and small ivory horns, succubuss working as a barista by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "35ee4a90-0471-436c-b3c0-b26975b51c37", w: 1024, h: 1408, prompt: "succubuss working as a barista by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "c50d8f00-4111-47a2-832a-7f0854b92dea", w: 1024, h: 1408, prompt: "anthropomorphic smug cerulean flower by Ivan albright and Nicola Samori and Erwin Olaf:: --ar 5:7 --v 4" },
    { id: "87003460-e88a-4933-92b7-f3a12137eb18", w: 1408, h: 1024, prompt: "a haremof confused feral rave bboys in the parking lot of K-Mart, 1997, daylow lightstick party photograph --ar 7:5 --c 30" },
    { id: "2389adea-d625-491d-ba84-160bf9793190", w: 1408, h: 1024, prompt: "a haremof confused feral rave bboys in the parking lot of K-Mart, 1997, daylow lightstick party photograph --ar 7:5 --c 30" },
    { id: "4cb1a7ad-5137-48a8-8a93-a5855c091900", w: 1024, h: 1024, prompt: "<https://s.mj.run/qgUJePezFio> William Wonka and the Prisoner of Azkaban" },
    { id: "d27839ba-92ff-4a91-b604-346006e113d9", w: 1024, h: 1024, prompt: "<https://s.mj.run/WiOnoizmZlU> <https://s.mj.run/9WGnBancjDU> <https://s.mj.run/J7WpE--PnVM> --c 10" },
    { id: "53e4d246-5d58-4c1b-8c27-f5d6947e912e", w: 1024, h: 1024, prompt: "<https://s.mj.run/WiOnoizmZlU> <https://s.mj.run/9WGnBancjDU> <https://s.mj.run/J7WpE--PnVM> --c 10" },
    { id: "924ef7d6-8e09-45da-b436-771592e088cd", w: 1536, h: 1024, prompt: "Photography by Annie Leibovitz - an iconic photo of Sonic and Knuckles cuddled up together on a white bed, taken by Annie Leibovitz with Hasselblad medium format camera, 80mm lens --ar 3:2 --c 20" },
    { id: "f66039a6-f632-40e0-95e5-bac6f3da36f5", w: 1536, h: 1024, prompt: "Photography by Annie Leibovitz - portrait photography, an iconic image of Sonic and Knuckles cuddled up together on a white bed, taken by Annie Leibovitz with Hasselblad medium format camera, 80mm lens --ar 3:2 --c 20" },
    { id: "44b840a6-1459-4e5d-beb4-c150bfeeeff5", w: 1024, h: 1024, prompt: "<https://s.mj.run/J28OSJFzuOc> <https://s.mj.run/1juwl9knTG8> R2D2 at a hogwarts fursona convention in a nightclub by tom sachs and nan goldin" },
    { id: "8424832e-c68e-4e67-a36a-d825d22a8a84", w: 1024, h: 1024, prompt: "biblically accurate R2D2 with robes and a crown of thorns, per the Guinness Book of World Records" },
    { id: "91292482-a22e-4dff-a35a-0df7671786f1", w: 1024, h: 1024, prompt: "biblically accurate R2D2 with robes and a crown of thorns, per the Guinness Book of World Records" },
    { id: "7a87b129-2e7c-43a4-89fe-7112a6ffa73c", w: 1024, h: 1024, prompt: "<https://s.mj.run/J28OSJFzuOc> <https://s.mj.run/1juwl9knTG8> R2D2 at a hogwarts fursona convention in an alleyway by tom sachs and nan goldin" },
    { id: "8020694b-b3ae-4d4c-a104-ce6abe1437b6", w: 1024, h: 1408, prompt: "Expressive gouache and ink illustration, a cantilever house designed by Glenn Murcutt hidden in an autumn old growth forest near a mossy rocky stream, by Hokusai and James Gurney Peter Mohrbacher, Marc Simonetti, Mike Mignola, Bright autumn tones, Black paper with detailed line work, Mandelbulb Fractal, Trending on Artstation + Exquisite detail perfect, gold details, hyper detailed, golden ratio --ar 5:7 --c 50" },
    { id: "e4d65015-44a5-4c42-b2af-c8cc2fe4a81e", w: 1664, h: 2304, prompt: "Expressive gouache and ink illustration, a cantilever house designed by Glenn Murcutt hidden in an autumn old growth forest near a mossy rocky stream, by Hokusai and James Gurney Peter Mohrbacher, Marc Simonetti, Mike Mignola, Bright autumn tones, Black paper with detailed line work, Mandelbulb Fractal, Trending on Artstation + Exquisite detail perfect, gold details, hyper detailed, golden ratio --ar 5:7 --c 50" },
    { id: "c43e5f88-063f-4a00-93d0-92a563c3cca9", w: 1664, h: 2304, prompt: "Expressive gouache and ink illustration, a cantilever house designed by Glenn Murcutt hidden in an autumn old growth forest near a mossy rocky stream, by Hokusai and James Gurney Peter Mohrbacher, Marc Simonetti, Mike Mignola, Bright autumn tones, Black paper with detailed line work, Mandelbulb Fractal, Trending on Artstation + Exquisite detail perfect, gold details, hyper detailed, golden ratio --ar 5:7 --c 50" },
    { id: "9f39d9c9-2fac-4683-90bb-92ee2fdbacc9", w: 2688, h: 1536, prompt: "Expressive gouache and ink illustration, a cantilever house designed by Glenn Murcutt hidden in an autumn old growth forest near a mossy rocky stream, by Hokusai and James Gurney Peter Mohrbacher, Marc Simonetti, Mike Mignola, Bright autumn tones, Black paper with detailed line work, Mandelbulb Fractal, Trending on Artstation + Exquisite detail perfect, gold details, hyper detailed, golden ratio --ar 16:9 --c 19 --upbeta" },
    { id: "690ff9dc-bf0a-42e9-b13b-67a607134622", w: 1664, h: 2304, prompt: "Expressive gouache and ink illustration, a cantilever house designed by Glenn Murcutt hidden in an autumn old growth forest near a mossy rocky stream, by Hokusai and James Gurney Peter Mohrbacher, Marc Simonetti, Mike Mignola, Bright autumn tones, Black paper with detailed line work, Mandelbulb Fractal, Trending on Artstation + Exquisite detail perfect, gold details, hyper detailed, golden ratio --ar 5:7 --c 50" },
    { id: "07ca4fdc-baba-499e-aa5a-ec6018347d9d", w: 2688, h: 1536, prompt: "Expressive gouache and ink illustration, a cantilever house designed by Glenn Murcutt hidden in an autumn old growth forest near a mossy rocky stream, by Hokusai and James Gurney Peter Mohrbacher, Marc Simonetti, Mike Mignola, Bright autumn tones, Black paper with detailed line work, Mandelbulb Fractal, Trending on Artstation + Exquisite detail perfect, gold details, hyper detailed, golden ratio --ar 16:9 --c 50" },
    { id: "4d71373c-58ed-4eb6-a261-3cc6d256f4a9", w: 960, h: 1664, prompt: "<https://s.mj.run/kwC-IvAk84k> elevated view, large cantilever villa with greenroof + landscape design by Louis Benech, dankali depression, alpenglow after the storm, angry clouds, stark landscape photograph with Leica Camera AG M + Leica Summicron-M 35mm f/2 ASPH:: a watercolor textured house designed by frank lloyd wright and mies van der rohe, rusted copper, autumn colors, turqoise lake, landscape photography::0.3 --ar 9:16 --c 35" },
    { id: "7aa360ce-b705-4e40-a3b3-a6ea1d744262", w: 1024, h: 1408, prompt: "elevated view, large cantilever villa with greenroof + landscape design by Louis Benech, plitvice lakes, low sunlight after the storm, angry clouds, stark landscape photograph with Leica Camera AG M + Leica Summicron-M 35mm f/2 ASPH --s 500 --c 20 --ar 5:7" },
    { id: "48feee5e-a8f4-4c28-875b-78b7be80d6b4", w: 1024, h: 1536, prompt: "elevated view, large modern stone villa with greenroof + landscape design by Louis Benech, lake natron, dappled late afternoon sunlight, fluffy white clouds, stark landscape photograph with Leica Camera AG M + Leica Summicron-M 35mm f/2 ASPH --s 500 --c 20 --ar 2:3" },
    { id: "1256a87f-949d-4eff-be2f-b48445732469", w: 1024, h: 1536, prompt: "<https://s.mj.run/UG6D4PvDmyY> <https://s.mj.run/DBkYfmjGX6o> --ar 2:3 --c 20" },
    { id: "0f9cc937-2e89-4ced-a605-db41fc8f0438", w: 1024, h: 1024, prompt: "<https://s.mj.run/Be13A6p7pyQ> <https://s.mj.run/ruSc8IlgjBQ> <https://s.mj.run/i8C-RVCxjCo> --c 25" },
    { id: "596c998f-9236-40a8-bd95-9e0974a1f475", w: 1024, h: 1408, prompt: "<https://s.mj.run/Be13A6p7pyQ> <https://s.mj.run/kSydjcMXvT8> --ar 5:7 --c 25" },
    { id: "f236e176-6028-42fe-865b-64b15bb5d907", w: 1024, h: 1536, prompt: "<https://s.mj.run/Za_hUGWkkjs> <https://s.mj.run/Be13A6p7pyQ> <https://s.mj.run/UG6D4PvDmyY> noble woman with dirty blond hair, holding umbrella, full body, hyper-detailed, rich colors, beautiful by by Felicia Simion:: consumed by envy, gorgeous stunning vibrant digital art by Yoh Nagao and Ken Price:: --ar 2:3 --c 50 --s 300" },
    { id: "38b22a4b-4a79-4d73-8393-d20471879b71", w: 1024, h: 1536, prompt: "<https://s.mj.run/PymRAWaoPic> <https://s.mj.run/Be13A6p7pyQ> HD dslr photo of the smug, insufferable blue furry catboy who frequents the local internet cafe ::1.5 Digital Art::-0.5 --q 2 --ar 2:3 --c 20" },
    { id: "f2996320-ae7b-4b78-8508-c61b14935849", w: 1024, h: 1536, prompt: "<https://s.mj.run/PymRAWaoPic> <https://s.mj.run/Be13A6p7pyQ> HD dslr photo of the smug, insufferable blue furry catboy who frequents the local internet cafe ::1.5 Digital Art::-0.5 --q 2 --ar 2:3 --c 20" },
    { id: "ec626b37-0a8a-483e-a76c-2898983bd0ff", w: 1024, h: 1536, prompt: "<https://s.mj.run/Be13A6p7pyQ> <https://s.mj.run/c9eKc7a99gA> <https://s.mj.run/BxDKcmdhOAw> <https://s.mj.run/WiOnoizmZlU> the screaming mind fracturing into The fibonacci sequence by Mr brainwash and Jim steranko --ar 2:3 --c 20" },
    // {{PUSH_PROMPTS_HERE}}
  ].map((d, i) => {
    const ar = d.w / d.h
    const sizeX = Math.min(d.w, boxMaxSizeX, imgMaxSizeY * ar)
    const sizeY = sizeX / ar + promptSizeY
    // upon zooming into 1D mode (big image), swapping out an img src for a higher-res one would cause a flash of blank image in certain cases. Instead, we put the low-res image as a background-image on the container, then the high-res image as a real img on top. Hand-rolled double buffering...
    let node = document.createElement('div')
        node.className = 'box'
        // node.tabIndex = i + 1 // uncomment when dismiss focus isn't this ugly blue hue anymore
        node.style.backgroundImage = `url(https://mj-gallery.com/${d.id}/grid_0_384_N.webp)` // 128 is the next smallest. Too small for retina screens
    let img = document.createElement('img')
        // img.decoding = 'async' // this sucks. It's slower _and_ still janks the UI. No point
    let promptNode = document.createElement('figcaption')
        promptNode.className = 'prompt'
        promptNode.textContent = d.prompt
    node.append(img, promptNode)
    return {
      id: d.id,
      naturalSizeX: d.w,
      ar, // aspect ratio
      sizeX: spring(sizeX),
      sizeY: spring(sizeY), // image + prompt
      x: spring(Math.floor(i / cols) * -windowSizeX - windowSizeX), // unfold from lower left. More visible on long screens
      y: spring(windowSizeY + Math.floor(i / cols) * imgMaxSizeY),
      scale: spring(1),
      fxFactor: spring(20), // for brightness and blur
      node,
    }
  })
}
function springForEach(f) { // no spring ownership struggle between the spring library above vs consumer; un-inversion of control!
  for (let d of data) {
    f(d.sizeX); f(d.sizeY); f(d.x); f(d.y); f(d.scale); f(d.fxFactor) // no different than [a, b, c].forEach(f)
  }
}

// === events
// pointermove doesn't work on android, pointerdown isn't fired on Safari on the first left click after dismissing context menus, mousedown doesn't trigger properly on mobile, pointerup isn't triggered when pointer panned (at least on iOS), don't forget contextmenu event. Tldr there's no pointer event that works cross-browser that can replace mouse & touch events.
window.addEventListener('resize', () => scheduleRender())
window.addEventListener('scroll', () => scheduleRender())
window.addEventListener('popstate', () => scheduleRender())
window.addEventListener('keydown', (e) => {
  if (e.code === 'KeyA') scheduleRender(true) // debug
  else if (e.code === 'Escape' || e.code === 'ArrowLeft' || e.code === 'ArrowRight') {
    inputs.key = e.code
    scheduleRender()
  }
})
window.addEventListener('click', (e) => {
  inputs.clickedTarget = e.target
  // needed to update coords even when we already track mousemove. E.g. in Chrome, right click context menu, move elsewhere, then click to dismiss. BAM, mousemove triggers with stale/wrong (??) coordinates... Click again without moving, and now you're clicking on the wrong thing
  inputs.pointer.x = e.pageX - window.scrollX; inputs.pointer.y = e.pageY - window.scrollY
  scheduleRender()
})
window.addEventListener('mousemove', (e) => {
  // when scrolling (which might schedule a render), a container's mousemove doesn't trigger, so the pointer's local coordinates are stale
  // this means we should only use pointer's global coordinates, which is always right (thus the subtraction of scroll)
  inputs.pointer.x = e.pageX -/*toGlobal*/window.scrollX; inputs.pointer.y = e.pageY -/*toGlobal*/window.scrollY
  // btw, pointer can exceed document bounds, e.g. dragging reports back out-of-bound, legal negative values
  scheduleRender()
})

// === static DOM initialization. Just 1 in this app. The more you have here the more your app looks like a PDF document. Minimize
let dummyPlaceholder = document.createElement('div')
dummyPlaceholder.style.position = 'absolute'
dummyPlaceholder.style.width = '1px' // make it tiny in case it affects compositing... sigh lamport.azurewebsites.net/pubs/future-of-computing.pdf
document.body.append(dummyPlaceholder)
if (debug) document.documentElement.style.background = 'repeating-linear-gradient(#e66465 0px, #9198e5 300px)'

// === hit testing logic. Boxes' hit area should be static and not follow their current animated state usually (but we can do either)
function hitTest2DMode(data, pointerX, pointerY) {
  for (let i = 0; i < data.length; i++) {
    let {x, y, sizeX, sizeY} = data[i]
    if (x.dest <= pointerX && pointerX < x.dest + sizeX.dest && y.dest <= pointerY && pointerY < y.dest + sizeY.dest) return i // pointer on this box
  }
  return null
}
function hitTest1DMode(data, focused, windowSizeX, pointerX) {
  // allow spamming clicks without accidentally clicking on an empty region on left/right side or newly focused image during transition (and dismiss 1D mode)
  return focused > 0 && 0 <= pointerX /* might be -Infinity */ && pointerX <= hitArea1DSizeX ? Math.max(0, focused - 1) // left
    : focused < data.length - 1 && pointerX >= windowSizeX - hitArea1DSizeX ? Math.min(data.length - 1, focused + 1) // right
    : null
}

function render(now) {
  // === step 1: batched DOM reads (to avoid accidental DOM read & write interleaving)
  const newWindowSizeX = document.documentElement.clientWidth // excludes scroll bar & invariant under safari pinch zoom
  const windowSizeY = document.documentElement.clientHeight // same
  // this way, when pinch zooming in, we don't occlude away rows outside of the view; if we did, when we zoom out again we wouldn't see those occluded rows until we release our fingers. During safari pinch, no event is triggered so we couldn't have updated the occlusion in real time
  const animationDisabled = reducedMotion.matches
  const currentScrollTop = window.scrollY
  const hashImgId = window.location.hash.slice(1)

  let focused = null; for (let i = 0; i < data.length; i++) if (data[i].id === hashImgId) focused = i
  // don't forget top & bottom safari UI chrome sizes when vertically occluding, since they're transluscent so we can't over-occlude by ignoring them
  const pointerXLocal = inputs.pointer.x +/*toLocal*/window.scrollX, pointerYLocal = inputs.pointer.y +/*toLocal*/currentScrollTop

  // === step 2: handle inputs-related state change
  // keys
  let newFocused =
    inputs.key === 'Escape' ? null
    : inputs.key != null && focused == null ? 0
    : inputs.key === 'ArrowLeft' ? Math.max(0, focused - 1)
    : inputs.key === 'ArrowRight' ? Math.min(data.length - 1, focused + 1)
    : focused
  // pointer
  if (inputs.clickedTarget != null) { // clicked
    if (inputs.clickedTarget.tagName === 'FIGCAPTION') { // select the whole prompt
      let selection = window.getSelection()
      let range = document.createRange()
      range.selectNodeContents(inputs.clickedTarget)
      selection.removeAllRanges()
      selection.addRange(range)
    } else if (focused == null) { // in 2D grid mode. Find the box the pointer's on
      newFocused = hitTest2DMode(data, pointerXLocal, pointerYLocal) ?? newFocused
    } else { // 1D mode
      newFocused = hitTest1DMode(data, focused, newWindowSizeX, pointerXLocal)
    }
  }

  // === step 3: calculate new layout & cursor
  const {cols, boxMaxSizeX} = colsBoxMaxSizeXF(newWindowSizeX)
  let boxes2DSizeX = [], boxes2DSizeY = [], rowsTop = [windowPaddingTop] // length: number of rows + 1
  { // first pass over data to set final 2D dimensions and row height (for vertical centering in 2D & total scrollbar height)
    let rowMaxSizeY = 0
    for (let i = 0; i < data.length; i++) {
      let d = data[i]
      const imgMaxSizeY =
        d.ar === 1 ? boxMaxSizeX * 0.85 // square aspect ratio area too big. Shrink it
        : d.ar < 1 ? boxMaxSizeX * 1.05 // vertical images look a bit small. Grow it
        : boxMaxSizeX
      const sizeX = Math.min(d.naturalSizeX, boxMaxSizeX, imgMaxSizeY * d.ar)
      const sizeY = sizeX / d.ar + promptSizeY
      boxes2DSizeX.push(sizeX)
      boxes2DSizeY.push(sizeY)
      rowMaxSizeY = Math.max(rowMaxSizeY, sizeY)
      if (i % cols === cols - 1 || i === data.length - 1) { // last box of the row or last box ever
        rowsTop.push(rowsTop.at(-1) + rowMaxSizeY + boxesGapY)
        rowMaxSizeY = 0
      }
    }
  }
  let cursor
  let newAnchor = anchor
  let adjustedScrollTop = currentScrollTop
  const hoverMagnetFactor = 40
  if (newFocused == null) { // 2D mode
    if (newFocused == null && focused != null) { // just dismissed 1D mode
      const focusedTop = rowsTop[Math.floor(focused / cols)]
      // if the dismissed box isn't fully shown, scroll to it (later after the render code block)
      if (focusedTop <= currentScrollTop || focusedTop + boxes2DSizeY[focused] >= currentScrollTop + windowSizeY) {
        adjustedScrollTop = focusedTop - boxesGapY - gapTopPeek // Peek a little higher to show the previous row
      }
    }

    for (let i = 0; i < data.length; i++) { // calculate boxes positions
      let d = data[i]
      const sizeX = boxes2DSizeX[i], sizeY = boxes2DSizeY[i]
      const currentRow = Math.floor(i / cols)
      const rowMaxSizeY = rowsTop[currentRow + 1] - boxesGapY - rowsTop[currentRow] // this is restoring the rowMaxSizeY info above, kinda weird
      d.sizeX.dest = sizeX
      d.sizeY.dest = sizeY
      d.x.dest = boxesGapX + (boxMaxSizeX + boxesGapX) * (i % cols) + (boxMaxSizeX - sizeX) / 2 // center horizontally
      d.y.dest = rowsTop[currentRow] + (rowMaxSizeY - sizeY) / 2
      d.scale.dest = 1
      d.fxFactor.dest = 1
    }

    const hit = hitTest2DMode(data, pointerXLocal, pointerYLocal)
    if (hit == null) cursor = 'auto'
    else { // hovering over a box. Adjust position
      cursor = 'zoom-in'
      let {x, y, sizeX, sizeY, scale} = data[hit]
      x.dest += (pointerXLocal - (x.dest + sizeX.dest / 2)) / hoverMagnetFactor
      y.dest += (pointerYLocal - (y.dest + sizeY.dest / 2)) / hoverMagnetFactor
      scale.dest = 1.02
    }
    // if layout shifted, keep the boxes near the same place to prevent annoying layout jumps while viewing
    const anchorY = data[anchor].y.dest - gapTopPeek
    if (newWindowSizeX !== windowSizeX) adjustedScrollTop = Math.max(0, anchorY) // resized; maintain position!
    if (adjustedScrollTop !== scrollTop && Math.abs(anchorY -/*toLocal*/adjustedScrollTop) > windowSizeY / 10) { // find new anchor if the current one moved too much
      for (newAnchor = 0; newAnchor < data.length; newAnchor += cols) { // new anchor is picked from leftmost column. Btw old anchor might not be from leftmost col due to resize layout shifts
        let d = data[newAnchor]
        // find 1st box whose bottom exceeds 20% of window height
        if (d.y.dest + d.sizeY.dest -/*toLocal*/adjustedScrollTop > windowSizeY / 5) break
      }
    }
  } else { // 1D mode
    const img1DSizeY = windowSizeY - windowPaddingTop - prompt1DSizeY - boxes1DGapY
    const box1DMaxSizeX = newWindowSizeX - boxes1DGapX * 2 - hitArea1DSizeX * 2

    let currentLeft = hitArea1DSizeX + boxes1DGapX // start from the right edge of the left box and...
    for (let i = newFocused - 1; i >= 0; i--) { // ...iterate til we get the left edge of the very first box
      let d = data[i]
      const imgSizeX = Math.min(d.naturalSizeX, box1DMaxSizeX, img1DSizeY * d.ar) * 0.7
      currentLeft -= imgSizeX + boxes1DGapX
    }

    const edgeRubberBandVelocityX = // feedback when you hit first/last image and keep pressing left/right key
      inputs.key === 'ArrowLeft' && focused === 0 ? 2 * 1000 // 2 pixels per second
      : inputs.key === 'ArrowRight' && focused === data.length - 1 ? -2 * 1000
      : 0
    for (let i = 0; i < data.length; i++) { // calculate boxes positions
      let d = data[i]
      const imgSizeX = Math.min(d.naturalSizeX, box1DMaxSizeX, img1DSizeY * d.ar) * (i === newFocused ? 1 : 0.7)
      const boxSizeY = imgSizeX / d.ar + prompt1DSizeY
      d.sizeX.dest = imgSizeX
      d.sizeY.dest = boxSizeY
      d.y.dest = Math.max(windowPaddingTop, (windowSizeY - boxSizeY) / 2) +/*toLocal*/adjustedScrollTop
      d.x.dest = i === newFocused ? (newWindowSizeX - imgSizeX) / 2 : currentLeft
      d.x.v += edgeRubberBandVelocityX / (i === newFocused ? 1 : 4)
      d.scale.dest = 1
      d.fxFactor.dest = i === newFocused ? 1 : 0.2 // center image has no brightness & blur effect

      currentLeft = i === newFocused ? newWindowSizeX - hitArea1DSizeX : currentLeft + imgSizeX + boxes1DGapX
    }

    const hit = hitTest1DMode(data, newFocused, newWindowSizeX, pointerXLocal)
    if (hit == null) cursor = 'zoom-out'
    else { // hovering on left or right image
      cursor = 'zoom-in'
      let {x, y, sizeX, sizeY, scale, fxFactor} = data[hit]
      x.dest += (pointerXLocal - (x.dest + sizeX.dest / 2)) / hoverMagnetFactor
      y.dest += (pointerYLocal - (y.dest + sizeY.dest / 2)) / hoverMagnetFactor
      scale.dest = 1.02
      fxFactor.dest = 0.5
    }
  }
  // ensure that no matter how the scrolling is abruptly adjusted, the boxes on the screen don't suddenly jump too. When going 1D->2D mode where the dismissed image might be far from the initial one, or when resizing causes layout shifts, the boxes now stay unaffected!
  for (let {y} of data) y.pos += adjustedScrollTop - currentScrollTop

  // === step 4: run animation
  let newAnimatedUntilTime = animatedUntilTime ?? now
  const steps = Math.floor((now - newAnimatedUntilTime) / msPerAnimationStep) // run x spring steps. Decouple physics simulation from framerate!
  newAnimatedUntilTime += steps * msPerAnimationStep
  let stillAnimating = false
  if (animationDisabled) springForEach(springGoToEnd)
  else {
    springForEach(s => {
      for (let i = 0; i < steps; i++) springStep(s)
      if (Math.abs(s.v) < 0.01 && Math.abs(s.dest - s.pos) < 0.01) springGoToEnd(s) // close enough, done
      else stillAnimating = true
    })
  }

  // === step 5: render. Batch DOM writes
  const browserUIMaxSizeTop = 100, browserUIMaxSizeBottom = 150 // browsers UI like Safari are transluscent. Random conservative numbers
  for (let i = 0; i < data.length; i++) {
    let d = data[i]
    let {node} = d, img = node.children[0], prompt = node.children[1]
    if ( // occlusion culling, aka only draw what's visible on screen (aka "virtualization")
      d.y.pos -/*toGlobal*/adjustedScrollTop <= windowSizeY + browserUIMaxSizeBottom &&
      d.y.pos + d.sizeY.pos -/*toGlobal*/adjustedScrollTop >= -browserUIMaxSizeTop &&
      d.x.pos <= newWindowSizeX &&
      d.x.pos + d.sizeX.pos >= 0
    ) { // disregard shadow & scaling for now; browserUIMaxSizeBottom and browserUIMaxSizeTop are safe bigger values anyway
      node.style.width = `${d.sizeX.pos}px`
      node.style.height = `${d.sizeY.pos}px`
      node.style.transform = `translate3d(${d.x.pos}px,${d.y.pos}px,0) scale(${d.scale.pos})` // safari now anti-aliases for hover, but then zoom in janks on big displays...
      // we can't afford fxFactor & blur for all pics; too expensive for Safari & Chrome. E.g. when zomming out of a photo, keep scrolling; Chrome stops render on Studio Display
      node.style.filter = newFocused != null && i === newFocused - 1 || i === newFocused || i === newFocused + 1
        ? `brightness(${d.fxFactor.pos * 100}%) blur(${Math.max(0, 6 - d.fxFactor.pos * 6)}px)` // blur these 3 only
        : `brightness(${d.fxFactor.pos * 100}%)` // blur of unrelated pics is too fast during transition from/to 1D mode to be seen anyway
      if (debug) node.style.outline = i === newAnchor ? '2px solid rgba(255, 255, 0, 0.8)' : 'none'
      prompt.style.top = `${d.sizeX.pos / d.ar}px` // right below img's sizeY

      if (i === newFocused) {
        node.style.zIndex = data.length + 999 // guaranteed above everything
        prompt.style.overflowY = 'auto'
        prompt.style.height = `${prompt1DSizeY - promptPaddingBottom}px`
        prompt.style.lineClamp = prompt.style.webkitLineClamp = 999
        img.style.display = 'block'
        let src = `https://mj-gallery.com/${d.id}/grid_0.webp`
        if (!stillAnimating && img.src !== src) img.src = src // load the full res image
      } else {
        node.style.zIndex = i + 1 // simple proper z-index management
        prompt.style.overflowY = 'hidden'
        prompt.style.height = `${promptSizeY - promptPaddingBottom}px`
        prompt.style.lineClamp = prompt.style.webkitLineClamp = 2
        img.style.display = 'none' // hide full res image for perf (yes it makes a difference, even on M1, with Studio Display)
      }
      if (node.parentNode == null) document.body.appendChild(node) // if previously absent, add
    } else if (node.parentNode != null) document.body.removeChild(node) // if previously present, remove
  }

  document.body.style.cursor = cursor
  document.body.style.overflowY = newFocused == null ? 'auto' : 'hidden'
  dummyPlaceholder.style.height = `${rowsTop.at(-1)}px` // Chrome has race conditon if scrollTo is called before setting a longer dummy height

  // === step 6: update state & prepare for next frame
  if (adjustedScrollTop !== currentScrollTop) window.scrollTo({top: adjustedScrollTop}) // will trigger scrolling, thus next frame's render
  if (newFocused !== focused) {
    window.history.pushState(null, null, `${window.location.pathname}${window.location.search}${newFocused == null ? '' : '#' + data[newFocused].id}`)
  }
  inputs.key = null
  inputs.clickedTarget = null
  animatedUntilTime = stillAnimating ? newAnimatedUntilTime : null
  anchor = newAnchor
  windowSizeX = newWindowSizeX
  scrollTop = adjustedScrollTop

  return stillAnimating
}

scheduleRender()
</script>
</body>

</html>
